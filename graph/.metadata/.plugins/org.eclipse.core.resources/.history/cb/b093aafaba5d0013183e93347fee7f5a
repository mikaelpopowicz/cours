import java.util.LinkedList;

public class Magasin {

	private String name, adresse, ville, cp, tel;
	private LinkedList<String> regAchat = new LinkedList<String>();
	private LinkedList<String> regVente = new LinkedList<String>();
	private int numAchat =0 , numVente = 0;
	private LinkedList<Produit> test = new LinkedList<Produit>();
	private boolean configured;
	
	public Magasin() {
		this.setName("Non configuré");
		this.setConfigured(false);
		this.test.add(new Luxe("AE392", "Montre en Or", 199.90, 0, 4));
		this.regAchat.add("Coucou");
		this.test.add(new Moyen("ZS212", "Téléphone en plastique", 12, 0, true, 25));
		for(ListProd unP : ListProd.values()) {
			if (unP.getCat().equals("Luxe")) {
				this.test.add(new Luxe("OUF23", unP.getName(), unP.getPrix(), 0, unP.getNote()));
			}
		}
	}
	
	public String getName() { return this.name; }
	public String getAdresse() { return this.adresse; }
	public String getVille() { return this.ville; }
	public String getCp() { return this.cp; }
	public String getTel() { return this.tel; }
	public LinkedList<String> getRegAchat() { return this.regAchat; }
	public LinkedList<String> getRegVente() { return this.regVente; }
	public int getNumAchat() { return this.numAchat; }
	public int getNumVente() { return this.numVente; }
	public boolean getConfigured() { return this.configured; }
	
	public void setName(String name) {
		this.name = name;
	}
	
	public void setAdresse(String adresse) {
		this.adresse = adresse;
	}
	
	public void setVille(String ville) {
		this.ville = ville;
	}
	
	public void setCp(String cp) {
		this.cp = cp;
	}
	
	public void setTel(String tel) {
		this.tel = tel;
	}
	
	public void setConfigured(boolean conf) {
		this.configured = conf;
	}
	
	public void setNumAchat(int num) {
		this.numAchat = num;
	}
	
	public void setNumVente(int num) {
		this.numVente = num;
	}
	
	public void thread(Produit p) {
		System.out.println(p.toString());
	}
	
	public int count() {
		int i = 0;
		for(Produit p : test) {
			i++;
		}
		return i;
	}
	
	public void voirReg(String registre) {
		LinkedList<String> choix = new LinkedList<String>();
		if(registre == "Achat") {
			choix = this.getRegAchat();
		} else if(registre == "Vente") {
			choix = this.getRegVente();
		}
		String chaine = "";
		
		chaine += "\nRegistre des achats\n";
		int temp = chaine.length();
		for(int i = 0; i < temp - 2; i++) {
			chaine += "-"; 
		}
		if(choix.isEmpty() == false) {
			for(String str : choix) {
				chaine += "\n"+str;
			}
		} else {
			System.out.println("AHAHA");
		}
		
		
		System.out.println(chaine);
	}

	
	
	public static void main(String args[]) {
		Magasin unMag = new Magasin();
		for(Produit p : unMag.test) {
			unMag.thread(p);
		}
		System.out.println("\nNombre de produits : "+unMag.count());
		unMag.voirReg("Achat");
		
	}
}
